<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WEREWOLF GM-PRO</title>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #ff2e63; --bg: #0f0f1a; --card: #161625; --v: #4ecca3; --w: #ff4b2b; --mute: #f39c12; --exile: #8e44ad; }
        body { font-family: 'Kanit', sans-serif; background: var(--bg); color: #e0e0e0; margin: 0; padding: 10px; display: flex; justify-content: center; }
        .container { width: 100%; max-width: 600px; }
        .card { background: var(--card); padding: 20px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); border: 1px solid #333; margin-bottom: 15px; }
        .hidden { display: none !important; }
        
        /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡πÄ‡∏•‡∏∑‡∏≠‡∏Å GM */
        .gm-select-box { background: #252535; padding: 10px; border-radius: 8px; margin-bottom: 15px; border-left: 4px solid #ffd700; }
        
        /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏à‡∏±‡∏î‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó */
        .role-group-header { background: #1a1a2e; padding: 8px 12px; margin-top: 15px; border-radius: 5px; font-weight: bold; font-size: 0.9em; border-left: 4px solid #fff; }
        .group-human { border-left-color: var(--v); color: var(--v); }
        .group-wolf { border-left-color: var(--w); color: var(--w); }
        .group-other { border-left-color: #b06ab3; color: #b06ab3; }

        .role-list { max-height: 400px; overflow-y: auto; margin: 10px 0; border: 1px solid #333; padding: 5px; border-radius: 8px; background: #0c0c14; }
        .role-item { display: flex; align-items: flex-start; gap: 10px; padding: 10px; border-bottom: 1px solid #222; cursor: pointer; }
        .role-item.selected { background: rgba(255, 46, 99, 0.2); border-left: 3px solid var(--primary); }
        
        /* Dashboard & Cupid */
        .dashboard-table { width: 100%; border-collapse: collapse; }
        .dashboard-table td { padding: 8px; border-bottom: 1px solid #222; font-size: 0.85em; }
        .couple-active { border: 2px solid #ff69b4 !important; position: relative; }
        .couple-active::after { content: '‚ù§Ô∏è'; position: absolute; right: 2px; top: 2px; font-size: 10px; }

        .btn-link { background: #ff69b4; color: white; padding: 2px 5px; font-size: 0.7em; border-radius: 4px; border: none; cursor: pointer; }
        .status-select { width: 50px; background: #111; color: #fff; border: 1px solid #444; border-radius: 4px; }
        
        .phase-banner { text-align: center; font-weight: bold; padding: 12px; border-radius: 10px; margin-bottom: 15px; color: white; }
        body.night { background: #0a0a2e; } body.day { background: #4a3300; } body.vote { background: #3d0000; }
    </style>
</head>
<body>

<div class="container">
    <div id="screen-auth" class="card">
        <h1 style="text-align:center; color:var(--primary);">WEREWOLF üê∫</h1>
        <input type="text" id="username" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì">
        <input type="text" id="room-code" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏´‡πâ‡∏≠‡∏á 4 ‡∏´‡∏•‡∏±‡∏Å">
        <button class="btn-main" id="btn-create" style="width:100%">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á (HOST)</button>
        <button style="width:100%; background:#333; color:#fff; margin-top:5px;" id="btn-join">‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏´‡πâ‡∏≠‡∏á</button>
    </div>

    <div id="screen-lobby" class="card hidden">
        <div class="gm-select-box" id="gm-selector-ui">
            <label style="font-size: 0.8em; color: #aaa;">‡∏ú‡∏π‡πâ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡πÄ‡∏Å‡∏° (GM):</label>
            <select id="select-new-gm" onchange="changeGM(this.value)" style="width:100%; padding:5px; margin-top:5px;"></select>
        </div>
        <div id="player-list" style="margin-bottom:15px;"></div>
        
        <div id="gm-setup" class="hidden">
            <div style="display:flex; justify-content:space-between; align-items:center;">
                <h3 style="margin:0;">‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó (<span id="count-sel">0</span>/<span id="count-total">0</span>)</h3>
                <div id="balance-score" style="font-weight:bold;">0</div>
            </div>
            <div class="role-list" id="role-selector"></div>
            <button class="btn-main" id="btn-start-game" style="background:var(--v); color:#000; width:100%">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏° üèÅ</button>
        </div>
        <p id="wait-msg" style="text-align:center; color:#666;">‚è≥ ‡∏£‡∏≠ GM ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°...</p>
    </div>

    <div id="screen-game" class="card hidden">
        <div id="phase-label" class="phase-banner">‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤</div>
        
        <div id="player-view">
            <div style="text-align:center; padding:20px; background:rgba(0,0,0,0.3); border-radius:15px;">
                <p style="margin:0; color:#ccc;">‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠</p>
                <h1 id="my-role-name" style="margin:10px 0; font-size:2em; color:var(--v);">...</h1>
                <p id="my-role-desc" style="color:#aaa; font-size:0.9em;"></p>
                <div id="my-status-label" style="margin-top:15px; font-weight:bold; padding:8px; border-radius:5px;"></div>
            </div>
            <div id="game-reveal" class="hidden" style="margin-top:15px; background:#111; padding:10px; border-radius:10px;"></div>
        </div>

        <div id="gm-view" class="hidden">
            <table class="dashboard-table">
                <tbody id="gm-table-body"></tbody>
            </table>
            <button class="btn-main" id="btn-next-phase" style="margin-top:15px; width:100%">‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‚û°Ô∏è</button>
            <button class="btn-main" id="btn-end-game" style="background:#444; width:100%; margin-top:5px;">üö© ‡∏à‡∏ö‡πÄ‡∏Å‡∏°</button>
        </div>
    </div>
</div>

<script type="module" src="script.js"></script>
</body>
</html>
